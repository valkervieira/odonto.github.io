<!doctype html>
<html lang="pt-BR">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Simulados Interativos - Clínica Odontológica V</title>
        <link rel="stylesheet" href="https://stackedit.io/style.css" />
        <style>
            .nav-header {
                background: #f8f9fa;
                padding: 15px 20px;
                border-bottom: 1px solid #dee2e6;
                position: sticky;
                top: 0;
                z-index: 1000;
            }
            .nav-header a {
                color: #495057;
                text-decoration: none;
                font-weight: normal;
                font-size: 1em;
                transition: color 0.2s;
            }
            .nav-header a:hover {
                color: #212529;
                text-decoration: underline;
            }

            .stats-table {
                width: 100%;
                margin: 20px 0;
                border-collapse: collapse;
            }
            .stats-table td {
                padding: 10px;
                border: 1px solid #ddd;
            }
            .stats-table td:first-child {
                font-weight: bold;
                width: 40%;
            }

            .filter-section {
                background: #f8f9fa;
                padding: 20px;
                margin: 20px 0;
                border-left: 3px solid #dee2e6;
            }

            .filter-section select {
                padding: 8px;
                margin-right: 10px;
                margin-bottom: 10px;
                font-size: 1em;
            }

            .filter-section button {
                padding: 8px 16px;
                margin-right: 10px;
                margin-bottom: 10px;
                cursor: pointer;
                background: white;
                border: 1px solid #ddd;
                font-size: 1em;
            }

            .filter-section button:hover {
                background: #f0f0f0;
            }

            .question-card {
                border: 1px solid #ddd;
                padding: 20px;
                margin: 20px 0;
                background: white;
            }

            .question-number {
                font-weight: bold;
                color: #495057;
                margin-bottom: 10px;
            }

            .question-text {
                margin: 15px 0;
                line-height: 1.6;
            }

            .saved-answer {
                background: #f8f9fa;
                border-left: 3px solid #dee2e6;
                padding: 15px;
                margin: 15px 0;
            }

            .saved-answer-label {
                font-weight: bold;
                margin-bottom: 10px;
            }

            .saved-answer-text {
                font-style: italic;
                white-space: pre-wrap;
                color: #495057;
            }

            textarea {
                width: 100%;
                min-height: 120px;
                padding: 10px;
                margin: 10px 0;
                border: 1px solid #ddd;
                font-family: inherit;
                font-size: 1em;
                resize: vertical;
            }

            textarea:focus {
                outline: none;
                border-color: #495057;
            }

            .answer-buttons {
                margin-top: 10px;
            }

            .answer-buttons button {
                padding: 8px 16px;
                margin-right: 10px;
                cursor: pointer;
                border: 1px solid #ddd;
                background: white;
                font-size: 1em;
            }

            .answer-buttons button:hover {
                background: #f0f0f0;
            }

            .btn-primary {
                background: #495057 !important;
                color: white !important;
                border-color: #495057 !important;
            }

            .btn-primary:hover {
                background: #343a40 !important;
            }

            .btn-secondary {
                background: #6c757d !important;
                color: white !important;
                border-color: #6c757d !important;
            }

            .btn-secondary:hover {
                background: #5a6268 !important;
            }

            .no-questions {
                text-align: center;
                padding: 40px;
                color: #666;
                font-style: italic;
            }

            @media (max-width: 768px) {
                .filter-section button,
                .filter-section select {
                    width: 100%;
                    margin-bottom: 10px;
                }
            }
        </style>
    </head>
    <body class="stackedit">
        <div class="nav-header">
            <a href="index.html">← Voltar para Página Inicial</a>
        </div>

        <div class="stackedit__left">
            <div class="stackedit__toc">
                <ul>
                    <li>
                        <a href="#simulados-interativos"
                            >Simulados Interativos</a
                        >
                        <ul>
                            <li><a href="#estatísticas">Estatísticas</a></li>
                            <li><a href="#filtros">Filtros</a></li>
                            <li><a href="#questões">Questões</a></li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>

        <div class="stackedit__right">
            <div class="stackedit__html">
                <h1 id="simulados-interativos">Simulados Interativos</h1>
                <p>
                    Pratique respondendo às questões. Suas respostas são salvas
                    automaticamente no navegador.
                </p>

                <h2 id="estatísticas">Estatísticas</h2>
                <table class="stats-table">
                    <tr>
                        <td>Total de Questões:</td>
                        <td id="total-questions">0</td>
                    </tr>
                    <tr>
                        <td>Questões Respondidas:</td>
                        <td id="answered-count">0</td>
                    </tr>
                    <tr>
                        <td>Progresso:</td>
                        <td id="progress-percent">0%</td>
                    </tr>
                </table>

                <h2 id="filtros">Filtros</h2>
                <div class="filter-section">
                    <p><strong>Filtrar por tópico:</strong></p>
                    <select id="topic-filter">
                        <option value="all">Todas as questões</option>
                        <option value="endodontia">Endodontia</option>
                        <option value="periodontia">Periodontia</option>
                        <option value="mta">MTA</option>
                        <option value="protese-total">Prótese Total</option>
                        <option value="ppr">Prótese Parcial Removível</option>
                        <option value="restauracoes">Restaurações</option>
                        <option value="bruxismo">Bruxismo</option>
                        <option value="clareamento">Clareamento</option>
                        <option value="erosao">Erosão e LCNC</option>
                        <option value="cirurgico">
                            Procedimentos Cirúrgicos
                        </option>
                        <option value="evidencias">
                            Evidências Científicas
                        </option>
                        <option value="patologia">Patologia Oral</option>
                    </select>
                    <br />
                    <button onclick="showOnlyUnanswered()">
                        Mostrar apenas não respondidas
                    </button>
                </div>

                <h2 id="questões">Questões</h2>
                <div id="questions-container"></div>
            </div>
        </div>

        <script>
            // Base de questões organizada por tópicos
            const questionsDatabase = {
                endodontia: [
                    "Qual é o tempo recomendado para manter a medicação intracanal com hidróxido de cálcio durante um retratamento endodôntico?",
                    "Cite os instrumentos utilizados para desobturação de canais com guta-percha endurecida.",
                    "Quantas sessões podem ser necessárias para desobturar um canal com material obturador antigo?",
                    "Qual é a sequência correta das etapas de um retratamento endodôntico não cirúrgico?",
                    "Após quanto tempo da medicação intracanal deve-se realizar a obturação definitiva?",
                    "Compare o risco relativo (RR) entre retratamento endodôntico cirúrgico e não-cirúrgico em 1 ano de acompanhamento.",
                    "De acordo com o estudo de Moazami et al. (2011), qual foi a taxa de cura encontrada em dentes com lesão periapical?",
                    "Explique por que o estudo de Moazami apresentou taxa de sucesso superior à literatura.",
                    "Segundo Jakovljevic et al. (2020), qual é a prevalência de periodontite apical em dentes tratados endodonticamente?",
                    "Qual é a prevalência de PA em dentes NÃO tratados endodonticamente?",
                ],
                periodontia: [
                    "Qual é o valor ideal do Índice de Placa Visível (IPV)?",
                    "Qual é o valor ideal do Índice de Sangramento Gengival (ISG)?",
                    "O que significa a sigla RAP em periodontia?",
                    "O que significa a sigla RASUB?",
                    "Defina Profundidade de Sondagem (PS).",
                    "Defina Perda de Inserção (PI).",
                    "Quais são os 4 estágios da classificação periodontal segundo AAP/EFP 2017?",
                    "Quais são os 3 graus de progressão da doença periodontal?",
                    "O que caracteriza um paciente com Periodontite Estágio III?",
                    "O que caracteriza um Grau C de progressão?",
                ],
                mta: [
                    "Qual é o pH inicial do MTA?",
                    "Qual é o pH final do MTA após completa hidratação?",
                    "Quanto tempo leva a presa inicial do MTA?",
                    "Quanto tempo leva a presa completa do MTA?",
                    "Em que ano o MTA foi aprovado pela FDA?",
                    "Por quanto tempo o MTA libera hidróxido de cálcio?",
                    "Qual é a origem comercial do MTA?",
                    "Cite os 4 componentes principais do MTA.",
                    "Como o pH alcalino do MTA confere ação antibacteriana?",
                    "Explique o mecanismo de ação do MTA através da fosfatase alcalina.",
                ],
                "protese-total": [
                    "Qual é o material usado na moldagem inicial para prótese total?",
                    "Qual é o material usado na moldagem funcional?",
                    "O que significa a sigla DVO?",
                    "O que significa a sigla ASA?",
                    "Quantas etapas clínicas são necessárias para confecção de uma prótese total?",
                    "Qual é o tempo médio de adaptação a próteses totais mandibulares?",
                    "Qual é o período considerado normal para adaptação?",
                    "Qual porcentagem de pacientes apresenta reabsorção severa (tipo III-IV)?",
                    "Qual é a frequência de úlceras traumáticas após 15 dias de uso da PT?",
                    "Cite 5 fatores que prolongam o tempo de adaptação a próteses totais.",
                ],
                ppr: [
                    "O que são 'direct abutments' em uma PPR?",
                    "O que são 'indirect abutments'?",
                    "Qual é a frequência ideal de manutenção periodontal para pacientes com PPR?",
                    "Qual porcentagem de dentes pilares foi perdida no estudo de Tada et al.?",
                    "Qual foi a duração do acompanhamento no estudo de Tada?",
                    "Quais foram as 3 principais causas de perda de dentes pilares no estudo?",
                    "Qual foi a porcentagem de perdas por doença periodontal?",
                    "Compare a sobrevida dos dentes com manutenção 3-6M vs sem manutenção.",
                    "Por que a manutenção teve maior impacto nos direct abutments?",
                    "Como prevenir cárie em dentes pilares de PPR?",
                ],
                restauracoes: [
                    "Qual é o material usado no caso clínico de onlay no dente 17?",
                    "Qual é o número do fio retrator usado na moldagem para onlay?",
                    "Qual material é usado para selamento provisório?",
                    "Qual é o tempo de fotopolimerização do cimento resinoso em cada face?",
                    "Cite as 3 etapas de tratamento da peça cerâmica antes da cimentação.",
                    "Qual cimento é usado para cimentação do pino de fibra de vidro?",
                    "Qual material é usado para cimentação da coroa metalocerâmica?",
                    "Qual é o principal motivo de substituição de restaurações de amálgama?",
                    "Compare a abordagem de reparo vs substituição em termos de preservação dentária.",
                    "Qual é o principal fator que determina a resistência do dente após endodontia?",
                ],
                bruxismo: [
                    "Defina bruxismo.",
                    "Quais são os dois tipos de bruxismo quanto ao período de ocorrência?",
                    "Qual é a etiologia do bruxismo?",
                    "Cite 3 consequências clínicas do bruxismo sobre restaurações.",
                    "Qual é o tratamento adjuvante obrigatório em pacientes bruxistas?",
                    "Qual material restaurador apresenta melhor desempenho em pacientes bruxistas?",
                    "Qual é a taxa de sucesso da zircônia monolítica?",
                    "Qual é a longevidade clínica da zircônia monolítica?",
                    "Por que a zircônia revestida apresenta mais falhas que a monolítica?",
                    "Compare o desempenho de zircônia monolítica vs dissilicato de lítio em bruxistas.",
                ],
                clareamento: [
                    "Qual é a concentração de peróxido de carbamida usada no clareamento caseiro de baixa concentração?",
                    "Qual é o período de uso recomendado para clareamento caseiro noturno?",
                    "Como são confeccionadas as moldeiras de clareamento?",
                    "Em que situações as pastas dessensibilizantes são eficazes após clareamento?",
                    "Em que situações as pastas dessensibilizantes são ineficazes?",
                    "Após quanto tempo todos os grupos apresentam níveis semelhantes de sensibilidade?",
                    "Por que não se deve indicar pasta dessensibilizante com PC 10%?",
                    "Explique a estratégia PICO utilizada na revisão sistemática sobre clareamento.",
                    "Por que deve-se optar por agentes clareadores em concentrações reduzidas em dentes com erosão?",
                    "Qual é a importância de tratar as causas do desgaste antes da etapa estética?",
                ],
                erosao: [
                    "O que significa LCNC?",
                    "Quais são os dois formatos típicos de LCNC?",
                    "Qual formato de LCNC tem maior risco de progressão?",
                    "Qual é a perda média de volume em lesões cervicais (estudo 5 anos)?",
                    "Cite 3 fatores etiológicos de LCNC.",
                    "Qual é o papel da escovação horizontal vigorosa nas LCNC?",
                    "Como a dieta ácida contribui para LCNC?",
                    "Por que o papel da oclusão na etiologia das LCNC é controverso?",
                    "Em que situações deve-se restaurar uma LCNC?",
                    "Por que se recomenda 'adiar intervenção restauradora o máximo possível'?",
                ],
                cirurgico: [
                    "O que significa ACC?",
                    "Quais são os 3 componentes do espaço biológico?",
                    "Qual é o tamanho total do espaço biológico?",
                    "Cite 3 indicações para ACC.",
                    "Qual fio de sutura é usado em ACC?",
                    "Descreva o protocolo anestésico para ACC de dente superior.",
                    "Qual lâmina de bisturi é usada na incisão?",
                    "Quantos milímetros de tecido gengival são removidos na incisão?",
                    "Por que é fundamental respeitar o espaço biológico de 3mm?",
                    "Quanto tempo deve-se aguardar após ACC antes de procedimentos protéticos?",
                ],
                evidencias: [
                    "O que é uma revisão sistemática?",
                    "O que é uma meta-análise?",
                    "O que diferencia uma revisão de escopo (scoping review)?",
                    "O que são as diretrizes PRISMA-Scr?",
                    "O que é um ensaio clínico randomizado?",
                    "O que é um estudo de coorte?",
                    "O que é análise de sobrevivência (Curva de Kaplan-Meier)?",
                    "O que significa RR (Risco Relativo)?",
                    "Como interpretar um RR = 1,05?",
                    "O que significa 'custo-efetivo'?",
                ],
                patologia: [
                    "O que significa a sigla SOUBS?",
                    "Qual é a prevalência de SOUBS em homens?",
                    "Qual é a localização típica do SOUBS?",
                    "Qual é o tamanho típico das lesões de SOUBS?",
                    "Qual é o tratamento de primeira linha para SOUBS?",
                    "Qual é o tempo de cicatrização esperado para SOUBS?",
                    "Cite 3 hipóteses etiológicas para SOUBS.",
                    "O que é estomatite protética?",
                    "Qual é a principal causa de estomatite protética?",
                    "Cite 3 fatores de risco para estomatite protética.",
                    "O que é hiperplasia papilomatosa?",
                    "Por que remover a prótese durante o sono é importante?",
                    "O que é tatuagem por amálgama?",
                    "O que é xantoma verruciforme?",
                    "O que é melanose do fumante?",
                ],
            };

            let currentFilter = "all";
            let showOnlyUnansweredFlag = false;

            // Inicializar
            document.addEventListener("DOMContentLoaded", function () {
                loadQuestions();
                updateStats();

                document
                    .getElementById("topic-filter")
                    .addEventListener("change", function (e) {
                        currentFilter = e.target.value;
                        showOnlyUnansweredFlag = false;
                        loadQuestions();
                    });
            });

            function loadQuestions() {
                const container = document.getElementById(
                    "questions-container",
                );
                container.innerHTML = "";

                let allQuestions = [];
                let questionIndex = 0;

                // Preparar questões baseado no filtro
                if (currentFilter === "all") {
                    for (let topic in questionsDatabase) {
                        questionsDatabase[topic].forEach((q) => {
                            allQuestions.push({
                                id: questionIndex++,
                                topic: topic,
                                text: q,
                            });
                        });
                    }
                } else {
                    if (questionsDatabase[currentFilter]) {
                        questionsDatabase[currentFilter].forEach((q) => {
                            allQuestions.push({
                                id: questionIndex++,
                                topic: currentFilter,
                                text: q,
                            });
                        });
                    }
                }

                // Filtrar não respondidas se necessário
                if (showOnlyUnansweredFlag) {
                    allQuestions = allQuestions.filter((q) => !getAnswer(q.id));
                }

                if (allQuestions.length === 0) {
                    container.innerHTML =
                        '<div class="no-questions">Nenhuma questão encontrada com os filtros aplicados.</div>';
                    return;
                }

                // Renderizar questões
                allQuestions.forEach((question) => {
                    const questionCard = createQuestionCard(question);
                    container.appendChild(questionCard);
                });

                updateStats();
            }

            function createQuestionCard(question) {
                const card = document.createElement("div");
                card.className = "question-card";
                card.id = `question-${question.id}`;

                const savedAnswer = getAnswer(question.id);

                card.innerHTML = `
                <div class="question-number">Questão ${question.id + 1} - ${getTopicLabel(question.topic)}</div>
                <div class="question-text">${question.text}</div>
                <div class="answer-section">
                    ${
                        savedAnswer
                            ? `
                        <div class="saved-answer">
                            <div class="saved-answer-label">Sua resposta salva:</div>
                            <div class="saved-answer-text">${savedAnswer}</div>
                        </div>
                        <div class="answer-buttons">
                            <button class="btn-primary" onclick="editAnswer(${question.id})">Editar resposta</button>
                        </div>
                    `
                            : `
                        <textarea id="answer-${question.id}" placeholder="Digite sua resposta aqui..."></textarea>
                        <div class="answer-buttons">
                            <button class="btn-primary" onclick="saveAnswer(${question.id})">Salvar resposta</button>
                        </div>
                    `
                    }
                </div>
            `;

                return card;
            }

            function getTopicLabel(topic) {
                const labels = {
                    endodontia: "Endodontia",
                    periodontia: "Periodontia",
                    mta: "MTA",
                    "protese-total": "Prótese Total",
                    ppr: "PPR",
                    restauracoes: "Restaurações",
                    bruxismo: "Bruxismo",
                    clareamento: "Clareamento",
                    erosao: "Erosão e LCNC",
                    cirurgico: "Procedimentos Cirúrgicos",
                    evidencias: "Evidências Científicas",
                    patologia: "Patologia Oral",
                };
                return labels[topic] || topic;
            }

            function saveAnswer(questionId) {
                const textarea = document.getElementById(
                    `answer-${questionId}`,
                );
                const answer = textarea.value.trim();

                if (!answer) {
                    alert("Por favor, digite uma resposta antes de salvar.");
                    return;
                }

                localStorage.setItem(`odonto_q_${questionId}`, answer);
                loadQuestions();
            }

            function getAnswer(questionId) {
                return localStorage.getItem(`odonto_q_${questionId}`);
            }

            function editAnswer(questionId) {
                const currentAnswer = getAnswer(questionId);
                const card = document.getElementById(`question-${questionId}`);
                const answerSection = card.querySelector(".answer-section");

                answerSection.innerHTML = `
                <textarea id="answer-${questionId}">${currentAnswer}</textarea>
                <div class="answer-buttons">
                    <button class="btn-primary" onclick="saveAnswer(${questionId})">Salvar resposta</button>
                    <button onclick="loadQuestions()">Cancelar</button>
                </div>
            `;
            }

            function updateStats() {
                let totalQuestions = 0;
                let answeredCount = 0;

                for (let topic in questionsDatabase) {
                    totalQuestions += questionsDatabase[topic].length;
                }

                for (let i = 0; i < totalQuestions; i++) {
                    if (getAnswer(i)) {
                        answeredCount++;
                    }
                }

                const progress =
                    totalQuestions > 0
                        ? Math.round((answeredCount / totalQuestions) * 100)
                        : 0;

                document.getElementById("total-questions").textContent =
                    totalQuestions;
                document.getElementById("answered-count").textContent =
                    answeredCount;
                document.getElementById("progress-percent").textContent =
                    progress + "%";
            }

            function showOnlyUnanswered() {
                showOnlyUnansweredFlag = true;
                loadQuestions();
            }
        </script>
    </body>
</html>
